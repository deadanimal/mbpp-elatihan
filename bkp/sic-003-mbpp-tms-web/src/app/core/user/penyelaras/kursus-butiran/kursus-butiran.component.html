<div class="header bg-warm-blue pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <!--Page title-->
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <h6 class="h2 text-white d-inline-block mb-0">Kursus</h6>
                    <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                            <li class="breadcrumb-item">
                                <a href="javascript:void(0)"><i class="fas fa-chalkboard-teacher text-white"></i></a>
                            </li>
                            <li aria-current="page" class=" breadcrumb-item active">
                                Butiran
                            </li>
                        </ol>
                    </nav>
                </div>
                <div class=" col-lg-6 col-5 text-right">
                    <a class=" btn btn-sm btn-danger text-white"> Tutup </a>
                    <a class=" btn btn-sm btn-neutral text-dark" (click)="openModalQR(modalQR)"> QR Kehadiran </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid mt--6">
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <div class="row align-items-center">
                        <div class="col">
                            <h4 class="mb-0">Butiran Kursus</h4>
                        </div>
                        <div class="col-auto">
                            <button 
                                type="button" 
                                class="btn btn-custom-blue btn-sm" 
                                (click)="openUpdateConfirmation()">
                                <i class="fas fa-save text-white mr-2"></i>
                                Simpan
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <form [formGroup]="updateForm">
                        <h6 class=" heading-small text-muted mb-4">Informasi</h6>
                        <div class="form-group">
                            <label class="form-control-label">
                                Tajuk
                            </label>
                            <input 
                                class="form-control form-custom-input" 
                                formControlName="title" 
                                [value]="selectedTraining.title">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">
                                Deskripsi
                            </label>
                            <textarea 
                                class="form-control form-custom-textarea"
                                formControlName="description"
                                [value]="selectedTraining.description">
                            </textarea>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Kategori
                                    </label>
                                    <input 
                                        class="form-control form-custom-input"
                                        disabled
                                        formControlName="category"
                                        [value]="selectedTraining.category">
                                </div>
                            </div>
                            <div class="col-sm-12 col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Kod
                                    </label>
                                    <input 
                                        class="form-control form-custom-input" 
                                        formControlName="course_code"
                                        [value]="course_code">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Penganjur Kursus
                                    </label>
                                    <input 
                                        class="form-control form-custom-input" 
                                        value="(PABWH) Penganjur ABWH">
                                </div>
                            </div>
                            <div class="col-sm-12 col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Had Peserta
                                    </label>
                                    <input 
                                        class="form-control form-custom-input"
                                        formControlName="max_participant"
                                        [value]="selectedTraining.max_participant">
                                </div>
                            </div>
                            <div class="col-sm-12 col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Kos
                                    </label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">RM</span>
                                        </div>
                                        <input 
                                            class="form-control form-custom-input"
                                            formControlName="cost"
                                            [value]="selectedTraining.cost"
                                        >
                                    </div>     
                                </div>
                            </div>
                        </div>
                        
                        <h6 class=" heading-small text-muted mb-4">Jadual</h6>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Tarikh Mula
                                    </label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                        </div>
                                        <input 
                                            type="text"
                                            class="form-control"
                                            bsDatepicker 
                                            [bsValue]="datePickerValue" 
                                            [bsConfig]="datePickerConfig"
                                            formControlName="start_date"
                                            [value]="selectedTraining.start_date">
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Masa Mula
                                    </label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="far fa-clock"></i></span>
                                        </div>
                                        <input 
                                            class="form-control" 
                                            type="time"
                                            formControlName="start_time"
                                            [value]="selectedTraining.start_time" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Tarikh Tamat
                                    </label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                        </div>
                                        <input 
                                            type="text"
                                            class="form-control"
                                            bsDatepicker 
                                            [bsValue]="datePickerValue" 
                                            [bsConfig]="datePickerConfig"
                                            formControlName="end_date"
                                            [value]="selectedTraining.end_date">
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Masa Tamat
                                    </label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="far fa-clock"></i></span>
                                        </div>
                                        <input 
                                            class=" form-control" 
                                            type="time"
                                            formControlName="end_time"
                                            [value]="selectedTraining.end_time" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Tempat
                                    </label>
                                    <input 
                                        class="form-control form-custom-input"
                                        formControlName="venue"
                                        [value]="selectedTraining.venue">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label class="form-control-label">
                                    Tempat
                                </label>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" name="check1" class="custom-control-input" id="customCheck1">
                                    <label class="custom-control-label" for="customCheck1">Ya</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" name="check2" class="custom-control-input" id="customCheck1">
                                    <label class="custom-control-label" for="customCheck1">Tidak</label>
                                </div>
                            </div>
                        </div>
                        <h6 class=" heading-small text-muted mb-4">Penceramah/Fasilitator</h6>
                        <div class="row">
                            <div class="col-sm-12 col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Penceramah
                                    </label>
                                    <input 
                                        class="form-control form-custom-input" 
                                        formControlName="speaker"
                                        [value]="selectedTraining.speaker">
                                </div>
                            </div>
                            <div class="col-sm-12 col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Agency
                                    </label>
                                    <input 
                                        class="form-control form-custom-input">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label">
                                        Fasilitator
                                    </label>
                                    <input 
                                        class="form-control form-custom-input"
                                        formControlName="fasilitator"
                                        [value]="selectedTraining.fasilitator">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <div class="row align-items-center">
                        <div class="col">
                            <h4 class="m-0">Senarai Peserta</h4>
                        </div>
                        <div class="col-auto">
                            <button 
                                type="button" 
                                class="btn btn-custom-blue btn-sm"
                                (click)="openModal(modalAddPeserta)">
                                Tambah
                            </button>
                            <div dropdown class="dropdown no-caret">
                                <button id="button-basic" dropdownToggle type="button"
                                    class="btn btn-sm btn-custom-blue mr-0 dropdown-toggle"
                                    aria-controls="dropdown-basic">
                                    <i class="fas fa-ellipsis-h"> </i>
                                </button>

                                <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow" *dropdownMenu>

                                    <a class="dropdown-item" (click)="showNoti1()">
                                        <i class="fas fa-print mr-1"></i>Cetak
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table align-items-center table-flush">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">Nama</th>
                                <th scope="col">Gred</th>
                                <th scope="col">Jabatan</th>
                                <th scope="col">Jawatan</th>
                                <th scope="col">Kehadiran</th>
                            </tr>
                        </thead>
                        <tbody class="list">
                            <tr>
                                <th scope="row">Husaini Nazri</th>
                                <td>32</td>
                                <td>Kejuruteraan</td>
                                <td>Jurutera</td>
                                <td>
                                    <div class="custom-control custom-radio mb-3">
                                        <input type="radio" id="customRadio1" name="customRadio" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio1">Hadir</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio2" name="customRadio" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio2">Tidak Hadir</label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Aimi Nadim</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td>
                                    <div class="custom-control custom-radio mb-3">
                                        <input type="radio" id="customRadio11" name="customRadio1" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio11">Hadir</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio12" name="customRadio1" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio12">Tidak Hadir</label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Affendi Ilyas</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td>
                                    <div class="custom-control custom-radio mb-3">
                                        <input type="radio" id="customRadio31" name="customRadio3" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio31">Hadir</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio32" name="customRadio3" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio32">Tidak Hadir</label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Imran Fikri</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td>
                                    <div class="custom-control custom-radio mb-3">
                                        <input type="radio" id="customRadio31" name="customRadio3" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio31">Hadir</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio32" name="customRadio3" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio32">Tidak Hadir</label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Amin Redzuan</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td>
                                    <div class="custom-control custom-radio mb-3">
                                        <input type="radio" id="customRadio41" name="customRadio4" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio41">Hadir</label>
                                    </div>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadio42" name="customRadio4" class="custom-control-input">
                                        <label class="custom-control-label" for="customRadio42">Tidak Hadir</label>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!--
                    <table mat-table [dataSource]="tableParticipantSource" class="table table-flush" matSort>

                        <ng-container matColumnDef="full_name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>  Nama Penuh </th>
                            <td mat-cell *matCellDef="let element"> {{element.full_name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="grade">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Gred </th>
                            <td mat-cell *matCellDef="let element"> {{element.grade}} </td>
                        </ng-container>

                        <ng-container matColumnDef="department">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Jabatan </th>
                            <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                        </ng-container>

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Jawatan </th>
                            <td mat-cell *matCellDef="let element"> {{element.position}} </td>
                        </ng-container>

                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
                            <td mat-cell *matCellDef="let element" class="text-right">
                                <button class="btn btn-primary btn-sm" type="button" (click)="viewTrainingDetails(element)">
                                    Lihat
                                </button>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="tableParticipant"></tr>
                        <tr mat-row *matRowDef="let row; columns: tableParticipant;"></tr>
                    </table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                -->
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <div class="row align-items-center">
                        <div class="col">
                            <h4 class="m-0">Senarai Permohonan</h4>
                        </div>
                        <div class="col-auto">
                            <button 
                                type="button" 
                                class="btn btn-custom-blue btn-sm"
                                (click)="showNoti1()">
                                <i class="fas fa-print text-white mr-2"></i>
                                Cetak
                            </button>
                        </div>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table align-items-center table-flush">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">Nama</th>
                                <th scope="col">Gred</th>
                                <th scope="col">Jabatan</th>
                                <th scope="col">Jawatan</th>
                                <th scope="col"></th>
                            </tr>
                        </thead>
                        <tbody class="list">
                            <tr>
                                <th scope="row">Razak Hilmi</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td class="text-right">
                                    <button type="button" class="btn btn-success btn-sm" (click)="confirmSubmit()">Terima</button>
                                    <button type="button" class="btn btn-danger btn-sm">Tolak</button>
                                    <!-- <button type="button" class="btn btn-warning btn-sm">Simpanan</button> -->
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Nazmi Salleh</th>
                                <td>22</td>
                                <td>Kejuruteraan</td>
                                <td>Penolong Jurutera</td>
                                <td class="text-right">
                                    <button type="button" class="btn btn-success btn-sm" (click)="confirmSubmit()">Terima</button>
                                    <button type="button" class="btn btn-danger btn-sm">Tolak</button>
                                    <!-- <button type="button" class="btn btn-warning btn-sm">Simpanan</button> -->
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!--
                    <table mat-table [dataSource]="tableApplicationSource" class="table table-flush" matSort>

                        <ng-container matColumnDef="full_name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>  Nama Penuh </th>
                            <td mat-cell *matCellDef="let element"> {{element.full_name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="grade">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Gred </th>
                            <td mat-cell *matCellDef="let element"> {{element.grade}} </td>
                        </ng-container>

                        <ng-container matColumnDef="department">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Jabatan </th>
                            <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                        </ng-container>

                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Jawatan </th>
                            <td mat-cell *matCellDef="let element"> {{element.position}} </td>
                        </ng-container>

                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
                            <td mat-cell *matCellDef="let element" class="text-right">
                                <button class="btn btn-primary btn-sm" type="button" (click)="viewTrainingDetails(element)">
                                    Lihat
                                </button>
                                <button class="btn btn-success btn-sm" type="button" (click)="viewTrainingDetails(element)">
                                    Terima
                                </button>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="tableApplication"></tr>
                        <tr mat-row *matRowDef="let row; columns: tableApplication;"></tr>
                    </table>
                    <mat-paginator #paginatorApplication [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                -->
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #modalQR>
    <div class="modal-header bg-secondary">
        <h6 class="modal-title m-0" id="modal-title-default">
            QR Code Kehadiran
        </h6>

        <button aria-label="Close" class="close m-0 p-0" data-dismiss="modal" type="button"
            (click)="defaultModal.hide()">
            <span aria-hidden="true"> × </span>
        </button>
    </div>

    <div class="modal-body pb-0 px-0 text-center">
        <img src="assets/img/photo/qr.png" class="text-center mx-auto">
    </div>

    <div class="modal-footer mt-2">
        <!--<button class="btn btn-primary" type="button">
            Tambah
        </button>-->

        <button class="btn btn-link ml-auto" data-dismiss="modal" type="button" (click)="defaultModal.hide()">
            Tutup
        </button>
    </div>
</ng-template>

<ng-template #modalAddPeserta>
    <div class="modal-header bg-secondary">
        <h6 class="modal-title m-0" id="modal-title-default">
            Tambah Peserta
        </h6>

        <button aria-label="Close" class="close m-0 p-0" data-dismiss="modal" type="button"
            (click)="modalRef.hide()">
            <span aria-hidden="true"> × </span>
        </button>
    </div>

    <div class="modal-body">
        <div class="form-group">
            <label class="form-control-label">Nama Peserta</label>
            <input class="form-control" placeholder="Masukkan nama peserta">
        </div>
    </div>

    <div class="modal-footer mt-2">
        <button class="btn btn-primary" type="button" (click)="modalRef.hide()">
            Tambah
        </button>

        <button class="btn btn-link ml-auto" data-dismiss="modal" type="button" (click)="modalRef.hide()">
            Tutup
        </button>
    </div>
</ng-template>
