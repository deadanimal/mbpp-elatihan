<ngx-loading-bar height="4px"></ngx-loading-bar>
<div class="header pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <h6 class="h2 text-dark d-inline-block mb-0">Butiran <span (click)="viewForm()">Latihan</span></h6>

                    <nav aria-label="breadcrumb" class=" d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                            <li class=" breadcrumb-item">
                                <a href="javascript:void(0)"> <i class="fas fa-chalkboard-teacher text-dark"> </i> </a>
                            </li>
                        </ol>
                    </nav>
                </div>

                <div class="col-lg-6 col-5 text-right">
                    <a
                        class="btn btn-sm btn-warm-blue text-white" 
                        *ngIf="training?.status == 'DB' || training?.status == 'TN'"
                        [hidden]="isApplying"
                        (click)="openApplyForm()"
                    > 
                        Tambah Permohonan
                    </a>

                    <a
                        class="btn btn-sm btn-warm-blue text-white" 
                        (click)="openModal(qrModal)"
                        *ngIf="!isQREmpty"
                    > 
                        QR Kedatangan 
                    </a>

                    <a
                        class="btn btn-sm btn-warm-blue text-white"
                        (click)="openModal(addNoteModal)"
                    > 
                        Tambah Nota 
                    </a>
				</div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid mt--6">
    <div class="row">
        <!-- Left column -->
        <div class="col-lg-4 col-sm-12">
            <div class="card">
                <div class="card-header bg-secondary">
                    <div class="row">
                        <div class="col my-auto">
                            <h4 class="m-0">
                                Butiran Latihan 
                                <span *ngIf="training?.status == 'DB'" class="ml-2 badge badge-pill badge-default">Dibuka</span>
                                <span *ngIf="training?.status == 'OT'" class="ml-2 badge badge-pill badge-primary">Lain-lain</span>
                                <span *ngIf="training?.status == 'PN'" class="ml-2 badge badge-pill badge-info">Penuh</span>
                                <span *ngIf="training?.status == 'SL'" class="ml-2 badge badge-pill badge-success">Selesai</span>
                                <span *ngIf="training?.status == 'DT'" class="ml-2 badge badge-pill badge-danger">Ditutup</span>
                                <span *ngIf="training?.status == 'TN'" class="ml-2 badge badge-pill badge-warning">Tangguh</span>
        
                                <span class="badge badge-pill badge-primary ml-2">{{training?.created_at | date: 'd/M/y, h:mm a'}}</span>
                            </h4>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <form [formGroup]="trainingForm">

                        <h6 class="heading-small text-muted mb-4">Butiran</h6>

                        <div class="form-group">
                            <label class="form-control-label">Tajuk <span class="text-warning">*</span></label>
                            <input class="form-control" formControlName="title">
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Deskripsi <span class="text-warning">*</span></label>
                            <textarea class="form-control" formControlName="description"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Status <span class="text-warning">*</span></label>
                            <select class="form-control custom-select" formControlName="status">
                                <option *ngFor="let status of statusChoices" value="{{status.value}}">
                                    {{status.text}}
                                </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Jenis Teras <span class="text-warning">*</span></label>
                            <select 
                                class="form-control custom-select" 
                                [(ngModel)]="coresParentTemp" 
                                [ngModelOptions]="{standalone: true}" 
                                (change)="onChangeCoreParent($event.target.value)"
                            >
                                <option value="GN">GENERIK</option>
                                <option value="FN">FUNGSIONAL</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Teras <span class="text-warning">*</span></label>
                            <select class="form-control custom-select" formControlName="core">
                                <option *ngFor="let core of coresTemp" value="{{core.id}}">
                                    {{core.child}}
                                </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Kod Kursus  <span class="text-warning">*akan dijana secara automatik</span></label>
                            <input class="form-control" formControlName="course_code">
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Jumlah Peserta <span class="text-warning">*</span></label>
                            <input class="form-control" formControlName="max_participant" type="number">
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Lokasi <span class="text-warning">*</span></label>
                            <input class="form-control" formControlName="venue">
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Alamat Lokasi <span class="text-warning">*</span></label>
                            <input class="form-control" formControlName="address">
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Anggaran Kos <span class="text-warning">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-secondary">
                                        RM
                                    </span>
                                </div>
                                <input class="form-control" formControlName="cost" type="number">
                            </div>
                        </div>

                        <hr class="my-4" />
                        <h6 class="heading-small text-muted mb-4">Klasifikasi Latihan</h6>

                        <div class="form-group">
                            <label class="form-control-label">Jenis Penganjur <span class="text-warning">*</span></label>
                            <!-- organiser_type -->
                            <select class="form-control custom-select" formControlName="organiser_type" (change)="onChangeOrganiserType($event.target.value)">
                                <option *ngFor="let choice of organiserChoices" value="{{choice.value}}">{{choice.text}}</option>
                            </select>
                        </div>
        
                        <div class="form-group">
                            <label class="form-control-label">Penganjur <span class="text-warning">*</span></label>
                            <!-- organiser -->
                            <select class="form-control custom-select" formControlName="organiser" (change)="onChangeOrganiser($event.target.value)">
                                <option *ngFor="let organisation of organisations" value="{{organisation.id}}">{{organisation.shortname}} - {{organisation.name}}</option>
                            </select>
                        </div>
    
                        <div class="form-group">
                            <label class="form-control-label">Jenis Latihan <span class="text-warning">*</span></label>
                            <!-- course_type -->
                            <select class="form-control custom-select" formControlName="training_type">
                                <option *ngFor="let choice of trainingTypes" value="{{choice.id}}">{{choice.name}}</option>
                            </select>
                        </div>
    
                        <div class="form-group">
                            <label class="form-control-label">Kaedah Latihan <span class="text-warning">*</span></label>
                            <!-- course_type -->
                            <select class="form-control custom-select" formControlName="method">
                                <option *ngFor="let choice of methodChoices" value="{{choice.value}}">{{choice.text}}</option>
                            </select>
                        </div>
    
                        <div class="form-group">
                            <label class="form-control-label">Anjuran Latihan <span class="text-warning">*</span></label>
                            <!-- course_type -->
                            <select class="form-control custom-select" formControlName="country">
                                <option *ngFor="let choice of countryChoices" value="{{choice.value}}">{{choice.text}}</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Domain </label>
                            <!-- course_type -->
                            <select class="form-control custom-select" formControlName="domain">
                                <option *ngFor="let domain of domains" value="{{domain.id}}">{{domain.name}}</option>
                            </select>
                        </div>

                        <hr class="my-4" />
                        <h6 class="heading-small text-muted mb-4">Klasifikasi Sasaran</h6>

                        <div class="form-group">
                            <label class="form-control-label">Jenis Sasaran <span class="text-warning">*</span></label>
                            <!-- target_group_type -->
                            <select class="form-control custom-select" formControlName="target_group_type" (change)="onChangeTargetType($event.target.value)">
                                <option *ngFor="let choice of targetGroupTypeChoices" value="{{choice.value}}">{{choice.text}}</option>
                            </select>
                        </div>

                        <div class="form-group" [hidden]="isTargetLocked">
                            <label class="form-control-label">Kumpulan Sasaran <span class="text-warning">*</span></label>
                            <!-- target_group -->
                            <ng-select
                                [items]="targetGrpOpts"
                                [multiple]="true"
                                bindLabel="name"
                                [closeOnSelect]="false"
                                bindValue="form"
                                [(ngModel)]="selectedGrp"
                                [ngModelOptions]="{standalone: true}"
                                (add)="onAddTargetGrp($event)"
                                (clear)="onClearTargetGrp($event)"
                                (remove)="onRemoveTargetGrp($event)"
                            >
                                <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                    <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected"  [ngModelOptions]="{standalone: true}" /> {{item.name | uppercase}}
                                </ng-template>
                            </ng-select>
                            <!-- <small>{{selectedGrp | json}}</small> -->
                        </div>

                        <div class="form-group" [hidden]="isTargetLocked">
                            <label class="form-control-label">Jawatan Sasaran <span class="text-warning">*</span></label>
                            <!-- position -->
                            <ng-select
                                [items]="targetPosOpts"
                                [multiple]="true"
                                bindLabel="name"
                                [closeOnSelect]="false"
                                bindValue="form"
                                [(ngModel)]="selectedPos"
                                [ngModelOptions]="{standalone: true}"
                                (add)="onAddTargetPos($event)"
                                (clear)="onClearTargetPos($event)"
                                (remove)="onRemoveTargetPos($event)"
                            >
                                <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                    <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected"  [ngModelOptions]="{standalone: true}" /> {{item.name | uppercase}}
                                </ng-template>
                            </ng-select>
                            <!-- <small>{{selectedPos | json}}</small> -->
                        </div>

                        <div class="form-group" [hidden]="isTargetLocked">
                            <label class="form-control-label">Gred Sasaran <span class="text-warning">*</span></label>
                            <!-- schema -->
                            <ng-select
                                [items]="targetSchOpts"
                                [multiple]="true"
                                bindLabel="name"
                                [closeOnSelect]="false"
                                bindValue="form"
                                [(ngModel)]="selectedSch"
                                [ngModelOptions]="{standalone: true}"
                                (add)="onAddTargetSch($event)"
                                (clear)="onClearTargetSch($event)"
                                (remove)="onRemoveTargetSch($event)"
                            >
                                <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                    <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected"  [ngModelOptions]="{standalone: true}" /> {{item.name | uppercase}}
                                </ng-template>
                            </ng-select>
                            <!-- <small>{{selectedSch | json}}</small> -->
                        </div>

                        <div class="form-group" [hidden]="isTargetLocked">
                            <label class="form-control-label">Jabatan Sasaran <span class="text-warning">*</span></label>
                            <!-- department -->
                            <ng-select
                                [items]="targetDepOpts"
                                [multiple]="true"
                                bindLabel="name"
                                [closeOnSelect]="false"
                                bindValue="form"
                                [(ngModel)]="selectedDep"
                                [ngModelOptions]="{standalone: true}"
                                (add)="onAddTargetDep($event)"
                                (clear)="onClearTargetDep($event)"
                                (remove)="onRemoveTargetDep($event)"
                            >
                                <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                    <input id="item-{{index}}" type="checkbox" [ngModel]="item$.selected"  [ngModelOptions]="{standalone: true}" /> {{item.name | uppercase}}
                                </ng-template>
                            </ng-select>
                            <!-- <small>{{selectedDep | json}}</small> -->
                        </div>

                        <hr class="my-4" />
                        <h6 class="heading-small text-muted mb-4">Tarikh & Waktu</h6>

                        <div class="form-group">
                            <label class="form-control-label">Tarikh Mula <span class="text-warning">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-secondary">
                                        <i class="far fa-calendar-alt"></i>
                                    </span>
                                </div>
                                <input 
                                    type="text"
                                    placeholder="12/12/2019"
                                    class="form-control"
                                    bsDatepicker
                                    formControlName="start_date"
                                    [bsValue]="dateStart"
                                    [bsConfig]="dateConfig"
                                >
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Waktu Mula <span class="text-warning">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-secondary">
                                        <i class="far fa-clock"></i>
                                    </span>
                                </div>
                                <input type="time" value="10:30:00" class="form-control" formControlName="start_time">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Tarikh Tamat <span class="text-warning">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-secondary">
                                        <i class="far fa-calendar-alt"></i>
                                    </span>
                                </div>
                                <input 
                                    type="text"
                                    placeholder="12/12/2019"
                                    class="form-control"
                                    bsDatepicker
                                    formControlName="end_date"
                                    [bsValue]="dateEnd"
                                    [bsConfig]="dateConfig"
                                >
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Waktu Tamat <span class="text-warning">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text bg-secondary">
                                        <i class="far fa-clock"></i>
                                    </span>
                                </div>
                                <input type="time" value="10:30:00" class="form-control" formControlName="end_time">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Nota Jadual</label>
                            <quill-editor
                                #scheduleNotes 
                                formControlName="schedule_notes">
                            </quill-editor>
                        </div>

                        <label class="form-control-label">Pengangkutan <span class="text-warning">*</span></label>
                        <div class="form-group">
                            <div class="custom-control custom-radio custom-control-inline">
                                <input 
                                    type="radio" 
                                    id="transportationRadio1" 
                                    name="transportation"
                                    class="custom-control-input" 
                                    [value]="true" 
                                    formControlName="transportation"
                                >
                                <label class="custom-control-label" for="transportationRadio1">Ada</label>
                                </div>
                                <div class="custom-control custom-radio custom-control-inline">
                                <input 
                                    type="radio" 
                                    id="transportationRadio2" 
                                    name="transportation"
                                    class="custom-control-input" 
                                    [value]="false" 
                                    formControlName="transportation"
                                >
                                <label class="custom-control-label" for="transportationRadio2">Tiada</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label">Lampiran </label>
                            <button type="button" class="btn btn-outline-warm-blue btn-block" (click)="downloadAttachment('attachment')">Muat turun</button>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-control-label">Lampiran Kelulusan</label>
                            <button type="button" class="btn btn-outline-warm-blue btn-block" (click)="downloadAttachment('attachment_approval')">Muat turun</button>
                        </div>

                        <div>
                            <div class="text-lead">
                                <span>*Wajib diisi</span>
                            </div>
                            <button 
                                class="btn btn-block btn-warm-blue" 
                                (click)="confirm()"
                                [disabled]="!trainingForm.valid"
                            >
                                Kemaskini
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Right column -->
        <div class="col-lg-8 col-sm-12">
            <tabset type="pills" class="nav-fill no-tab-content">
                <!-- Applications -->
                <tab heading="Permohonan">
                    <div class="card mt-2">
                        <div class="card-header bg-secondary">
                            <div class="row">
                                <div class="col my-auto">
                                    <h4 class="m-0">Permohonan</h4>
                                </div>
                                
                                <div class="col text-right">
                                    <button
                                        class="btn btn-sm btn-warm-blue"
                                        (click)="exportExcel('applications')"
                                    >
                                        Cetak
                                    </button>

                                    <button
                                        class="btn btn-sm btn-icon btn-3 btn-outline-warm-blue"
                                        (click)="openApplyForm()"
                                        [hidden]="!isApplying"
                                    >
                                        <span class="btn-inner--icon"><i class="fas fa-chevron-left"></i></span>
                                        <span class="btn-inner--text">Kembali</span>
                                    </button>

                                    <button
                                        class="btn btn-sm btn-icon btn-3 btn-warm-blue"
                                        (click)="confirmApply()"
                                        [hidden]="!isApplying"
                                        [disabled]="!selectedStaffs"
                                    >
                                        <span class="btn-inner--icon"><i class="fas fa-plus-circle"></i></span>
                                        <span class="btn-inner--text">Hantar Pencalonan</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="card-body" [hidden]="!isApplying">
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label class="form-control-label">NRIC <span class="text-warning">*</span></label>
                                        <ng-select 
                                            placeholder="Sila cari kad pengenalan kakitangan"
                                            [(ngModel)]="selectedStaffs"
                                            [multiple]="true"
                                            (change)="onChangeSelect($event)"
                                        >
                                            <ng-container>
                                                <ng-option *ngFor="let staff of staffs" [disabled]="staff.applied" [value]="staff">{{staff.nric}}</ng-option>
                                            </ng-container>
                                        </ng-select>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label class="form-control-label">Nama <span class="text-warning">*</span></label>
                                        <ng-select 
                                            placeholder="Sila cari nama kakitangan"
                                            [(ngModel)]="selectedStaffs"
                                            [multiple]="true"
                                            (change)="onChangeSelect($event)"
                                        >
                                            <ng-container>
                                                <ng-option *ngFor="let staff of staffs" [disabled]="staff.applied" [value]="staff">{{staff.full_name}}</ng-option>
                                            </ng-container>
                                        </ng-select>
                                    </div>
                                </div>
                            </div>
        
                            <div *ngIf="selectedStaffs">
                                <hr class="my-4" />
                                <h6 class="heading-small text-muted mb-4">Maklumat kakitangan</h6>
        
                                <div class="dataTables_wrapper py-4">
                                    <div class="row">
                                        <div class="col-sm-12 col-md-6">
                                            <div class="dataTables_length" id="datatable_length">
                                                <label>
                                                    Lihat
                                                    <select 
                                                        name="datatable_length" 
                                                        aria-controls="datatable" 
                                                        class="form-control form-control-sm custom-select custom-select-sm"
                                                        (change)="entriesChange($event)">
                                                        <option value="5" [selected]="tableStaffsEntries == 5">5</option>
                                                        <option value="10" [selected]="tableStaffsEntries == 10">10</option>
                                                        <option value="15" [selected]="tableStaffsEntries == 15">15</option>
                                                        <option value="-1" [selected]="tableStaffsEntries == -1">Semua</option>
                                                    </select>
                                                    rekod
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 col-md-6">
                                        </div>
                                    </div>
                        
                                    <div class="pt-4 text-center" *ngIf="isStaffsEmpty">
                                        <img [src]="iconEmpty" class="error-icon">
                                        <p>Tiada rekod dijumpai</p>
                                    </div>
                            
                                    <ngx-datatable 
                                        class="bootstrap selection-cell" 
                                        [columnMode]="'force'" 
                                        [headerHeight]="50" 
                                        [footerHeight]="50"
                                        [rowHeight]="'auto'"
                                        [limit]="tableStaffsEntries != -1 ? tableStaffsEntries : undefined" 
                                        [rows]="tableStaffsTemp"
                                        [messages]="tableMessages"
                                        (activate)="onActivate($event)"
                                        *ngIf="!isEmpty"
                                        [scrollbarH]="true"
                                    >
                                        <ngx-datatable-column
                                            prop="full_name"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Nama Kakitangan</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.full_name}}
                                            </ng-template>
                                        </ngx-datatable-column>
                
                                        <ngx-datatable-column
                                            prop="username"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Kad Pengenalan</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.username}}
                                            </ng-template>
                                        </ngx-datatable-column>
                
                                        <ngx-datatable-column
                                            prop="section_code"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Bahagian</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                <ng-container *ngFor="let section of sections">
                                                    <span *ngIf="section.value == row.section_code">{{section.text}}</span>
                                                </ng-container>
                                            </ng-template>
                                        </ngx-datatable-column>
        
                                        <ngx-datatable-column
                                            prop="grade_code"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Gred</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.grade_code}}
                                            </ng-template>
                                        </ngx-datatable-column>
                
                                        <ngx-datatable-column
                                            prop="salary_code"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Kod Gaji</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.salary_code}}
                                            </ng-template>
                                        </ngx-datatable-column>
                
                                        <ngx-datatable-column
                                            prop="position"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Jawatan</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.position}}
                                            </ng-template>
                                        </ngx-datatable-column>
                            
                                        <ngx-datatable-column
                                            prop="appointed_at"
                                        >
                                            <ng-template ngx-datatable-header-template>
                                                <span>Tarikh Lantikan</span>
                                            </ng-template>
                                            <ng-template let-row="row" ngx-datatable-cell-template>
                                                {{row.appointed_at | date: 'd/M/y'}}
                                            </ng-template>
                                        </ngx-datatable-column>
                                    </ngx-datatable>
                                </div>
                            </div>
                        </div>
        
                        <div class="dataTables_wrapper py-4">
                            <div class="row">
                                <div class="col-sm-12 col-md-6">
                                    <div class="dataTables_length" id="datatable_length">
                                        <label>
                                            Lihat
                                            <select 
                                                name="datatable_length" 
                                                aria-controls="datatable" 
                                                class="form-control form-control-sm custom-select custom-select-sm"
                                                (change)="entriesChange('applications', $event)">
                                                <option value="5" [selected]="tableApplicationsEntries == 5">5</option>
                                                <option value="10" [selected]="tableApplicationsEntries == 10">10</option>
                                                <option value="15" [selected]="tableApplicationsEntries == 15">15</option>
                                                <option value="-1" [selected]="tableApplicationsEntries == -1">Semua</option>
                                            </select>
                                            rekod
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-6">
                                    <div id="datatable_filter" class="dataTables_filter">
                                        <label>
                                            <input 
                                                type="search"
                                                class="form-control form-control-sm"
                                                placeholder="Cari nama pemohon"
                                                aria-controls="datatable"
                                                (keyup)="filterTable('applications', $event)"
                                            />
                                        </label>
                                    </div>
                                </div>
                            </div>
                
                            <div class="pt-4 text-center" *ngIf="isApplicationsEmpty">
                                <img [src]="iconEmpty" class="error-icon">
                                <p>Tiada rekod dijumpai</p>
                            </div>
                    
                            <ngx-datatable 
                                class="bootstrap selection-cell" 
                                [columnMode]="'force'" 
                                [headerHeight]="50" 
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [limit]="tableApplicationsEntries != -1 ? tableApplicationsEntries : undefined" 
                                [rows]="tableApplicationsTemp"
                                [messages]="tableMessages"
                                (activate)="onActivate('applications', $event)"
                                *ngIf="!isApplicationsEmpty"
                                [scrollbarH]="true"
                            >
                                <ngx-datatable-column
                                    prop="applicant.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Nama</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.applicant?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="applicant.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Jabatan</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.applicant?.department_code}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="status"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Status</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <span class="badge badge-success" *ngIf="row.status == 'AP'">Diterima</span>
                                        <span class="badge badge-danger" *ngIf="row.status == 'RJ'">Ditolak</span>
                                        <span class="badge badge-warning" *ngIf="row.status == 'RS'">Disimpan</span>
                                        <span class="badge badge-primary" *ngIf="row.status == 'IP'">Dalam proses</span>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="approved_level_3_by.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Diterima oleh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.approved_level_1_by?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="approved_level_3_by.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Disahkan oleh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.approved_level_2_by?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="approved_level_3_by.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Diluluskan oleh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.approved_level_3_by?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>
        
                                <ngx-datatable-column>
                                    <ng-template ngx-datatable-header-template>
                                        <span>Aktiviti</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <div class="btn-group dropdown" dropdown container="body">
                                            <button type="button" class="btn btn-sm btn-warm-blue dropdown-toggle" dropdownToggle>Aktiviti</button>
                                            <div *dropdownMenu class="dropdown-menu dropdown-menu-right">
                                                <!--<a class="dropdown-item" (click)="approveApplication(row)" [ngClass]="{ disabled: row.status != 'IP' || row.status != 'RS' }">Terima</a>
                                                <a class="dropdown-item" (click)="rejectApplication(row)" [ngClass]="{ disabled: row.status != 'RS' || row.status != 'IP' }">Tolak</a>
                                                <a class="dropdown-item" (click)="reserveApplication(row)" [ngClass]="{ disabled: row.status == 'IP' }">Simpan</a>-->
                                                <a class="dropdown-item" (click)="approveApplication(row)">Terima</a>
                                                <a class="dropdown-item" (click)="rejectApplication(row)" >Tolak</a>
                                                <a class="dropdown-item" (click)="reserveApplication(row)" >Simpan</a>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </div>
                    </div>
                </tab>
                <!-- Attendance -->
                <tab heading="Kehadiran">
                    <div class="card mt-2">
                        <div class="card-header bg-secondary">
                            <div class="row">
                                <div class="col my-auto">
                                    <h4 class="m-0">Kehadiran</h4>
                                </div>
                                
                                <div class="col text-right">
                                    <button
                                        class="btn btn-sm btn-warm-blue"
                                        (click)="exportExcel('attendances')"
                                    >
                                        Cetak
                                    </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="dataTables_wrapper py-4">
                            <div class="row">
                                <div class="col-sm-12 col-md-6">
                                    <div class="dataTables_length" id="datatable_length">
                                        <label>
                                            Lihat
                                            <select 
                                                name="datatable_length" 
                                                aria-controls="datatable" 
                                                class="form-control form-control-sm custom-select custom-select-sm"
                                                (change)="entriesChange('attendances', $event)">
                                                <option value="5" [selected]="tableAttendancesEntries == 5">5</option>
                                                <option value="10" [selected]="tableAttendancesEntries == 10">10</option>
                                                <option value="15" [selected]="tableAttendancesEntries == 15">15</option>
                                                <option value="-1" [selected]="tableAttendancesEntries == -1">Semua</option>
                                            </select>
                                            rekod
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-6">
                                    <div id="datatable_filter" class="dataTables_filter">
                                        <label>
                                            <input 
                                                type="search"
                                                class="form-control form-control-sm"
                                                placeholder="Cari nama kakitangan"
                                                aria-controls="datatable"
                                                (keyup)="filterTable('attendances', $event)"
                                            />
                                        </label>
                                    </div>
                                </div>
                            </div>
                
                            <div class="pt-4 text-center" *ngIf="isAttendancesEmpty">
                                <img [src]="iconEmpty" class="error-icon">
                                <p>Tiada rekod dijumpai</p>
                            </div>
                    
                            <ngx-datatable 
                                class="bootstrap selection-cell" 
                                [columnMode]="'force'" 
                                [headerHeight]="50" 
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [limit]="tableAttendancesEntries != -1 ? tableAttendancesEntries : undefined" 
                                [rows]="tableAttendancesTemp"
                                [messages]="tableMessages"
                                (activate)="onActivate('attendances', $event)"
                                *ngIf="!isAttendancesEmpty"
                                [scrollbarH]="true"
                            >
                                <ngx-datatable-column
                                    prop="attendee.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Nama</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.attendee?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="created_at"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Tarikh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.created_at | date: 'd/M/y'}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="is_attend"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Hadir</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <span *ngIf="row.is_attend">Hadir</span>
                                        <span *ngIf="!row.is_attend">Tidak Hadir</span>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="check_in"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Waktu Masuk</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.check_in | date: 'd/M/y h:mm a'}}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="check_out"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Waktu Keluar</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.check_out | date: 'd/M/y h:mm a'}}
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column
                                    prop="verified_by.full_name" 
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Disahkan oleh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.verified_by?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>
        
                                <ngx-datatable-column>
                                    <ng-template ngx-datatable-header-template>
                                        <span>Aktiviti</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <div class="btn-group dropdown" dropdown [isDisabled]="row.verified_by">
                                            <button type="button" class="btn btn-sm btn-warm-blue dropdown-toggle" dropdownToggle>Aktiviti</button>
                                            <div *dropdownMenu class="dropdown-menu dropdown-menu-right">
                                                <a class="dropdown-item" (click)="signinAttendance(row)" *ngIf="(row.created_at | date: 'd/M/y') == dateToday && !row.verified_by && !row.check_in">Log Kehadiran Masuk</a>
                                                <a class="dropdown-item" (click)="signoutAttendance(row)" *ngIf="(row.created_at | date: 'd/M/y') == dateToday && !row.verified_by && !row.check_out">Log Kehadiran Keluar</a>
                                                <a class="dropdown-item" (click)="verifyAttendance(row)" *ngIf="!row.verified_by">Sahkan</a>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </div>
                    </div>

                    <div class="card mt-2">
                        <div class="card-header bg-secondary">
                            <div class="row">
                                <div class="col my-auto">
                                    <h4 class="m-0">Ketidakhadiran</h4>
                                </div>
                                
                                <div class="col text-right">
                                    <button
                                        class="btn btn-sm btn-warm-blue"
                                        (click)="exportExcel('absences')"
                                    >
                                        Cetak
                                    </button>
                                </div>
                            </div>
                        </div>
        
                        <div class="dataTables_wrapper py-4">
                            <div class="row">
                                <div class="col-sm-12 col-md-6">
                                    <div class="dataTables_length" id="datatable_length">
                                        <label>
                                            Lihat
                                            <select 
                                                name="datatable_length" 
                                                aria-controls="datatable" 
                                                class="form-control form-control-sm custom-select custom-select-sm"
                                                (change)="entriesChange('absences', $event)">
                                                <option value="5" [selected]="tableAbsencesEntries == 5">5</option>
                                                <option value="10" [selected]="tableAbsencesEntries == 10">10</option>
                                                <option value="15" [selected]="tableAbsencesEntries == 15">15</option>
                                                <option value="-1" [selected]="tableAbsencesEntries == -1">Semua</option>
                                            </select>
                                            rekod
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-6">
                                    <div id="datatable_filter" class="dataTables_filter">
                                        <label>
                                            <input 
                                                type="search"
                                                class="form-control form-control-sm"
                                                placeholder="Cari nama kakitangan"
                                                aria-controls="datatable"
                                                (keyup)="filterTable('absences', $event)"
                                            />
                                        </label>
                                    </div>
                                </div>
                            </div>
                
                            <div class="pt-4 text-center" *ngIf="isAbsencesEmpty">
                                <img [src]="iconEmpty" class="error-icon">
                                <p>Tiada rekod dijumpai</p>
                            </div>
                    
                            <ngx-datatable 
                                class="bootstrap selection-cell" 
                                [columnMode]="'force'" 
                                [headerHeight]="50" 
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [limit]="tableAbsencesEntries != -1 ? tableAbsencesEntries : undefined" 
                                [rows]="tableAbsencesTemp"
                                [messages]="tableMessages"
                                (activate)="onActivate('absences', $event)"
                                *ngIf="!isAbsencesEmpty"
                                [scrollbarH]="true"
                            >
                                <ngx-datatable-column
                                    prop="attendee.full_name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Nama</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.attendee?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="reason"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Sebab</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.reason}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="verified_by.name"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Disahkan oleh</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.verified_by?.full_name}}
                                    </ng-template>
                                </ngx-datatable-column>
        
                                <ngx-datatable-column>
                                    <ng-template ngx-datatable-header-template>
                                        <span>Aktiviti</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <button 
                                            class="btn btn-sm btn-warm-blue"
                                            *ngIf="!row.verified_by"
                                            (click)="verifyAbsence(row)"
                                        >
                                            Sahkan
                                        </button>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </div>
                    </div>
                </tab>
                <!-- Report -->
                <tab heading="Laporan">
                    <div class="card mt-2">
                        <div class="card-header bg-secondary">
                            <h4 class="m-0">Laporan</h4>
                        </div>
        
                        <div class="card-body">
                            
                        </div>
                    </div>
                </tab>
                <!-- Notes -->
                <tab heading="Nota">
                    <div class="card mt-2">
                        <div class="card-header bg-secondary">
                            <h4 class="m-0">Nota</h4>
                        </div>
        
                        <div class="dataTables_wrapper py-4">
                            <div class="row">
                                <div class="col-sm-12 col-md-6">
                                    <div class="dataTables_length" id="datatable_length">
                                        <label>
                                            Lihat
                                            <select 
                                                name="datatable_length" 
                                                aria-controls="datatable" 
                                                class="form-control form-control-sm custom-select custom-select-sm"
                                                (change)="entriesChange('notes', $event)">
                                                <option value="5" [selected]="tableNotesEntries == 5">5</option>
                                                <option value="10" [selected]="tableNotesEntries == 10">10</option>
                                                <option value="15" [selected]="tableNotesEntries == 15">15</option>
                                                <option value="-1" [selected]="tableNotesEntries == -1">Semua</option>
                                            </select>
                                            rekod
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-6">
                                    <div id="datatable_filter" class="dataTables_filter">
                                        <label>
                                            <input 
                                                type="search"
                                                class="form-control form-control-sm"
                                                placeholder="Cari tajuk nota"
                                                aria-controls="datatable"
                                                (keyup)="filterTable('notes', $event)"
                                            />
                                        </label>
                                    </div>
                                </div>
                            </div>
                
                            <div class="pt-4 text-center" *ngIf="isNotesEmpty">
                                <img [src]="iconEmpty" class="error-icon">
                                <p>Tiada rekod dijumpai</p>
                            </div>
                    
                            <ngx-datatable 
                                class="bootstrap selection-cell" 
                                [columnMode]="'force'" 
                                [headerHeight]="50" 
                                [footerHeight]="50"
                                [rowHeight]="'auto'"
                                [limit]="tableNotesEntries != -1 ? tableNotesEntries : undefined" 
                                [rows]="tableNotesTemp"
                                [messages]="tableMessages"
                                (activate)="onActivate('notes', $event)"
                                *ngIf="!isNotesEmpty"
                                [scrollbarH]="true"
                            >
                                <ngx-datatable-column
                                    prop="title"
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Tajuk</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.title}}
                                    </ng-template>
                                </ngx-datatable-column>
                    
                                <ngx-datatable-column
                                    prop="note_code" 
                                >
                                    <ng-template ngx-datatable-header-template>
                                        <span>Kod</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        {{row.note_code}}
                                    </ng-template>
                                </ngx-datatable-column>
        
                                <ngx-datatable-column>
                                    <ng-template ngx-datatable-header-template>
                                        <span>Aktiviti</span>
                                    </ng-template>
                                    <ng-template let-row="row" ngx-datatable-cell-template>
                                        <button 
                                            class="btn btn-sm btn-warm-blue"
                                            (click)="downloadNote(row)"
                                        >
                                            Muat turun
                                        </button>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </div>
                    </div>
                </tab>
            </tabset>
        </div>
    </div>
</div>

<ng-template #addNoteModal>
    <div class="modal-header bg-warm-blue">
        <h6 class="modal-title text-white my-auto" id="modal-title-default">
            Tambah nota
        </h6>

        <button
            aria-label="Close"
            class="close"
            data-dismiss="modal"
            type="button"
            (click)="closeModal('notes')"
        >
            <span aria-hidden="true" class="text-white my-auto"> × </span>
        </button>
    </div>

    <div class="modal-body">
        <form [formGroup]="noteForm">
            <div class="form-group">
                <label class="form-control-label">Tajuk Nota <span class="text-warning">*</span></label>
                <input 
                    class="form-control" 
                    placeholder="Tajuk nota"
                    formControlName="title"
                >
            </div>

            <div class="form-group">
                <label class="form-control-label">Fail
                    <span class="text-warning">*Format PDF sahaja, maksimum 5MB</span>
                </label>
                <div class="custom-file">
                    <input 
                        type="file" 
                        class="custom-file-input" 
                        id="files" 
                        lang="en"
                        onclick="this.value = null"
                        (change)="onFileChange($event, 'notes')" 
                        accept=".pdf"
                        size="5"
                    />
                    <label class="custom-file-label" for="files">Pilih fail</label>
                </div>

                <ng-container *ngIf="noteForm.value['note_file']">
                    <div>
                        <i 
                            class="fas fa-trash-alt text-warning mr-2"
                            placement="top" 
                            tooltip="Remove attachment"
                            (click)="removeFile('notes')"
                        >
                        </i>
                        {{fileNameInformation}} [{{fileSizeInformation/1000000 | number: '1.2-2'}}MB]
                    </div>
                </ng-container>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button 
            class="btn btn-warm-blue"
            type="button"
            (click)="addNote()"
            [disabled]="!noteForm.valid"
        >
            Simpan
        </button>

        <button
            class="btn btn-outline-warm-blue ml-auto"
            data-dismiss="modal"
            type="button"
            (click)="closeModal('notes')"
        >
            Tutup
        </button>
    </div>
</ng-template>

<ng-template #qrModal>
    <div class="modal-header bg-warm-blue">
        <h6 class="modal-title text-white my-auto" id="modal-title-default">
            QR kedatangan
        </h6>

        <button
            aria-label="Close"
            class="close"
            data-dismiss="modal"
            type="button"
            (click)="closeModal('qr')"
        >
            <span aria-hidden="true" class="text-white my-auto"> × </span>
        </button>
    </div>

    <div class="modal-body px-auto mx-auto">
        <ngx-qrcode 
            [elementType]="qrElementType" 
            [value]="qrValue"
            cssClass="aclass"
            errorCorrectionLevel="L">
        </ngx-qrcode>
    </div>

    <div class="modal-footer">
        <button
            class="btn btn-outline-warm-blue ml-auto"
            data-dismiss="modal"
            type="button"
            (click)="closeModal('qr')"
        >
            Tutup
        </button>
    </div>
</ng-template>

<!-- Export applications -->
<div class="table" id="summaryApplicationsTable" #summaryApplicationsTable [hidden]="isHidden">
	<table class="table table-responsive table-flush">
		<thead>
            <tr>
                <th colspan="2">
                    Tajuk
                </th>
                <th colspan="3">
                    {{training?.title}}
                </th>
            </tr>
            <tr>
                <th colspan="2">
                    Tarikh kursus
                </th>
                <th colspan="3">
                    {{training?.start_date}} - {{training?.end_date}}
                </th>
            </tr>
            <tr>
                <th colspan="2">
                    Tempat
                </th>
                <th colspan="3">
                    {{training?.venue}}
                </th>
            </tr>
            <tr>
                <th colspan="2">
                    Kaedah
                </th>
                <th colspan="3">
                    <ng-container *ngFor="let method of methodChoices">
                        <span *ngIf="method.value == training?.method">{{method.text}}</span>
                    </ng-container>
                </th>
            </tr>
			<tr>
				<th>Nama Kakitangan</th>
                <th>Jawatan</th>
                <th>NRIC</th>
                <td>Jabatan</td>
                <td>Gred</td>
                <td>Taraf Lantikan</td>
                <td>Bil Hari</td>
                <td>Kursus</td>
				<th>Status</th>
				<th>Disahkan oleh</th>
                <th>Diterima oleh</th>
                <th>Diluluskan oleh</th>
			</tr>
		</thead>
		<tbody>
            
			<tr *ngFor="let row of tableApplicationsTemp">
				<td>
					{{row.applicant?.full_name}}
				</td>
                <td>
					{{row.applicant?.position_code}}
				</td>
                <td>
					{{row.applicant?.nric}}
				</td>
                <td>
					{{row.applicant?.department_code}}
				</td>
                <td>
					{{row.applicant?.grade_code}}
				</td>
                <td>
					{{row.applicant?.service_status}}
				</td>
                <td>
					
				</td>
                <td>
					
				</td>
				<td>
					<span class="badge badge-success" *ngIf="row.status == 'AP'">Diterima</span>
                    <span class="badge badge-danger" *ngIf="row.status == 'RJ'">Ditolak</span>
                    <span class="badge badge-warning" *ngIf="row.status == 'RS'">Disimpan</span>
                    <span class="badge badge-primary" *ngIf="row.status == 'IP'">Dalam proses</span>
				</td>
				<td>
					{{row.approved_level_1_by?.full_name}}
				</td>
                <td>
					{{row.approved_level_2_by?.full_name}}
				</td>
                <td>
					{{row.approved_level_3_by?.full_name}}
				</td>
			</tr>
		</tbody>
	</table>
</div>

<!-- Export attendances -->
<div class="table" id="summaryAttendancesTable" #summaryAttendancesTable [hidden]="isHidden">
	<table class="table table-responsive table-flush">
		<thead>
			<tr>
				<th>Nama Kakitangan</th>
				<th>Hadir</th>
                <th>Waktu Masuk</th>
                <th>Waktu Keluar</th>
                <th>Disahkan oleh</th>
			</tr>
		</thead>

		<tbody>
			<tr *ngFor="let row of tableAttendancesTemp">
				<td>
					{{row.attendee?.full_name}}
				</td>
				<td>
					<span *ngIf="row.is_attend">Hadir</span>
                    <span *ngIf="!row.is_attend">Tidak Hadir</span>
				</td>
				<td>
					{{row.check_in | date: 'd/M/y'}}
                </td>
                <td>
					{{row.check_out | date: 'd/M/y'}}
                </td>
                <td>
					{{row.verified_by?.full_name}}
				</td>
			</tr>
		</tbody>
	</table>
</div>

<!-- Export absences -->
<div class="table" id="summaryAbsencesTable" #summaryAbsencesTable [hidden]="isHidden">
	<table class="table table-responsive table-flush">
		<thead>
			<tr>
				<th>Nama Kakitangan</th>
				<th>Sebab</th>
                <th>Disahkan oleh</th>
			</tr>
		</thead>

		<tbody>
			<tr *ngFor="let row of tableAbsencesTemp">
				<td>
					{{row.attendee?.full_name}}
				</td>
				<td>
					{{row.reason}}
                </td>
                <td>
					{{row.verified_by?.full_name}}
				</td>
			</tr>
		</tbody>
	</table>
</div>